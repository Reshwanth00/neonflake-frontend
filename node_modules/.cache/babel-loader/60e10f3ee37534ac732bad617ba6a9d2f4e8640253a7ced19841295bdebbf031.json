{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState } from \"react\";\nconst postImageToCloud = formData => {\n  const passKey = \"Neonflake\";\n  const cloud = \"CloudinaryReshwanth\";\n  const imageUpload = new FormData();\n  imageUpload.append(\"upload_preset\", passKey);\n  imageUpload.append(\"file\", formData.imageFile);\n  axios.post(`https://api.cloudinary.com/v1_1/${cloud}/image/upload`, imageUpload).then(res => {\n    console.log(res.data);\n    return res.data;\n  });\n};\nconst postVideoToCloud = formData => {\n  const passKey = \"Neonflake\";\n  const cloud = \"CloudinaryReshwanth\";\n  const videoUpload = new FormData();\n  videoUpload.append(\"upload_preset\", passKey);\n  videoUpload.append(\"file\", formData.videoFile);\n  axios.post(`https://api.cloudinary.com/v1_1/${cloud}/video/upload`, videoUpload).then(res => {\n    console.log(res.data);\n    return res.data;\n  });\n};\nexport const postInDb = formData => {\n  _s();\n  const [videoResult, setVideoResult] = useState(null);\n  const [imageResult, setImageResult] = useState(null);\n  const passKey = \"Neonflake\";\n  const cloud = \"CloudinaryReshwanth\";\n  const videoUpload = new FormData();\n  videoUpload.append(\"upload_preset\", passKey);\n  videoUpload.append(\"file\", formData.videoFile);\n  const imageUpload = new FormData();\n  imageUpload.append(\"upload_preset\", passKey);\n  imageUpload.append(\"file\", formData.imageFile);\n  axios.post(`https://api.cloudinary.com/v1_1/${cloud}/video/upload`, videoUpload).then(res => {\n    console.log(res.data);\n    setVideoResult(res.data);\n  }).then(axios.post(`https://api.cloudinary.com/v1_1/${cloud}/image/upload`, imageUpload).then(res => {\n    console.log(res.data);\n    setImageResult(res.data);\n  })).then(axios.post(\"http//localhost:3001/api/post\", {\n    title: formData.title,\n    description: formData.description,\n    imageFile: {\n      imageName: imageResult.original_name,\n      imageUrl: imageResult.url\n    },\n    videoFile: {\n      videoName: videoResult.original_name,\n      videoUrl: videoResult.url\n    }\n  }));\n\n  // axios.post(\"http//localhost:3001/api/post\",formData)\n  // .then(console.log(\"Success\"))\n  // .catch(console.log(\"Failed\"));\n};\n_s(postInDb, \"+WYBrsJRGZYEumohMStezuUMwdY=\");","map":{"version":3,"names":["axios","useState","postImageToCloud","formData","passKey","cloud","imageUpload","FormData","append","imageFile","post","then","res","console","log","data","postVideoToCloud","videoUpload","videoFile","postInDb","_s","videoResult","setVideoResult","imageResult","setImageResult","title","description","imageName","original_name","imageUrl","url","videoName","videoUrl"],"sources":["/home/reshwanth/Office work/neonflask/frontend/src/Api.js"],"sourcesContent":["import axios from \"axios\"\nimport { useState } from \"react\";\n\nconst postImageToCloud = (formData) => {\n    const passKey = \"Neonflake\";\n    const cloud = \"CloudinaryReshwanth\";\n    const imageUpload = new FormData();\n    imageUpload.append(\"upload_preset\",passKey);\n    imageUpload.append(\"file\",formData.imageFile);\n    \n    axios.post(`https://api.cloudinary.com/v1_1/${cloud}/image/upload`,imageUpload)\n    .then(res => {\n        console.log(res.data);\n        return(res.data)}\n    )\n}\n\nconst postVideoToCloud = (formData) => {\n    const passKey = \"Neonflake\";\n    const cloud = \"CloudinaryReshwanth\";\n    const videoUpload = new FormData();\n    videoUpload.append(\"upload_preset\",passKey);\n    videoUpload.append(\"file\",formData.videoFile);\n    axios.post(`https://api.cloudinary.com/v1_1/${cloud}/video/upload`,videoUpload)\n    .then(res => {\n        console.log(res.data);\n        return(res.data)}\n    )\n}\n\nexport const postInDb = (formData) => {\n    const [videoResult , setVideoResult] = useState(null);\n    const [imageResult , setImageResult] = useState(null);\n    const passKey = \"Neonflake\";\n    const cloud = \"CloudinaryReshwanth\";\n    const videoUpload = new FormData();\n    videoUpload.append(\"upload_preset\",passKey);\n    videoUpload.append(\"file\",formData.videoFile);\n    const imageUpload = new FormData();\n    imageUpload.append(\"upload_preset\",passKey);\n    imageUpload.append(\"file\",formData.imageFile);\n    axios.post(`https://api.cloudinary.com/v1_1/${cloud}/video/upload`,videoUpload)\n    .then(res => {\n        console.log(res.data);\n        setVideoResult(res.data);\n    })\n    .then(\n        axios.post(`https://api.cloudinary.com/v1_1/${cloud}/image/upload`,imageUpload)\n        .then(res => {\n            console.log(res.data);\n            setImageResult(res.data)}\n        )\n    )\n    .then(\n        axios.post(\"http//localhost:3001/api/post\",{\n            title:formData.title,\n            description:formData.description,\n            imageFile:{\n                imageName:imageResult.original_name,\n                imageUrl:imageResult.url\n            },\n            videoFile:{\n                videoName:videoResult.original_name,\n                videoUrl:videoResult.url\n            }\n        })\n    )\n\n    // axios.post(\"http//localhost:3001/api/post\",formData)\n    // .then(console.log(\"Success\"))\n    // .catch(console.log(\"Failed\"));\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}