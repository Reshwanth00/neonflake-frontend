{"ast":null,"code":"import{useState,useRef,useEffect}from'react';import classes from'./UploadPage.module.css';import{postInDb}from'./Api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadPage=props=>{const[title,setTitle]=useState(\"\");const[description,setDescription]=useState(\"\");const[upload,setUpload]=useState(\"not uploaded\");const imageFileRef=useRef(null);const videoFileRef=useRef(null);const handleSubmit=async e=>{e.preventDefault();setUpload(\"uploading\");const formData={title:title,description:description,imageFile:imageFileRef.current.files[0],videoFile:videoFileRef.current.files[0]};await postInDb({formData,setRerender:props.setRender,setUpload});setTitle(\"\");setDescription(\"\");imageFileRef.current.value=null;videoFileRef.current.value=null;props.webPage2Ref.current.scrollIntoView({behavior:'smooth'});};return/*#__PURE__*/_jsx(\"div\",{className:classes.mainContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.innerContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.inputTextContainer,children:\"Neon Flake\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",maxLength:\"50\",value:title,required:true,className:classes.inputField,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",maxLength:\"200\",value:description,required:true,className:classes.textareaField,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/jpeg,image/png\",required:true,className:classes.imageInput,ref:imageFileRef}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"video/mpg,video/avi,video/mp4\",required:true,className:classes.videoInput,ref:videoFileRef}),upload===\"not uploaded\"&&/*#__PURE__*/_jsx(\"button\",{className:classes.buttonInput,onClick:handleSubmit,children:\"Upload\"}),upload===\"uploading\"&&/*#__PURE__*/_jsx(\"button\",{className:classes.buttonInput,children:\"Uploading\"})]})});};export default UploadPage;","map":{"version":3,"names":["useState","useRef","useEffect","classes","postInDb","jsx","_jsx","jsxs","_jsxs","UploadPage","props","title","setTitle","description","setDescription","upload","setUpload","imageFileRef","videoFileRef","handleSubmit","e","preventDefault","formData","imageFile","current","files","videoFile","setRerender","setRender","value","webPage2Ref","scrollIntoView","behavior","className","mainContainer","children","innerContainer","inputTextContainer","type","placeholder","maxLength","required","inputField","onChange","target","textareaField","accept","imageInput","ref","videoInput","buttonInput","onClick"],"sources":["/home/reshwanth/Office work/neonflask/frontend/src/UploadPage.js"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport classes from './UploadPage.module.css';\nimport { postInDb } from './Api';\n\nconst UploadPage = (props) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [upload, setUpload] = useState(\"not uploaded\");\n\n  const imageFileRef = useRef(null);\n  const videoFileRef = useRef(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setUpload(\"uploading\");\n    const formData = {\n      title: title,\n      description: description,\n      imageFile: imageFileRef.current.files[0],\n      videoFile: videoFileRef.current.files[0]\n    };\n    await postInDb({ formData, setRerender: props.setRender, setUpload });\n    setTitle(\"\");\n    setDescription(\"\");\n    imageFileRef.current.value = null;\n    videoFileRef.current.value = null;\n    props.webPage2Ref.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <div className={classes.mainContainer}>\n      <div className={classes.innerContainer}>\n        <div className={classes.inputTextContainer}>\n          Neon Flake\n        </div>\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          maxLength=\"50\"\n          value={title}\n          required\n          className={classes.inputField}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <textarea\n          placeholder=\"Description\"\n          maxLength=\"200\"\n          value={description}\n          required\n          className={classes.textareaField}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n        <input\n          type=\"file\"\n          accept=\"image/jpeg,image/png\"\n          required\n          className={classes.imageInput}\n          ref={imageFileRef}\n        />\n        <input\n          type=\"file\"\n          accept=\"video/mpg,video/avi,video/mp4\"\n          required\n          className={classes.videoInput}\n          ref={videoFileRef}\n        />\n        {\n          upload === \"not uploaded\" &&\n          <button className={classes.buttonInput} onClick={handleSubmit}>\n            Upload\n          </button>\n        }\n        {\n          upload === \"uploading\" &&\n          <button className={classes.buttonInput}>\n            Uploading\n          </button>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default UploadPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}